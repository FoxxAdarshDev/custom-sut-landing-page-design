<div class="pdp-custom-payment-container mt-md-4"> <div class="pdp-custom-cta-heading"> <img src="https://cdn.shopify.com/s/files/1/1064/0118/files/New_Icon.f3cc687da18d1b9a7778597a17d03fcc.gif?v=1712245731" alt="loading" style="height: 20px; width: 20px; margin-right: 6px;"> Smart Savings {% comment %} <img src="https://cdn.shopify.com/s/files/1/1064/0118/files/ryt-img-santa-claus.svg?v=1734424486" class="santa-gif" alt="Santa Claus"> {% endcomment %} </div> <div class="pdp-custom-payment-wrapper"> <button type="submit" name="add" class="pdp-custom-payment-button pdp-custom-cta-button btn custombfs_sale" data-product-id="{{ product.variants.first.id }}" data-free-product-handle="{{ freeProductHandle }}" data-qty="2"> <span class="pdp-custom-cta-value-lable popular">Most popular</span> <div class="pdp-custom-payment-button-inner"> <span class="pdp-custom-cta" style="color:#121212">More than 2 Items</span> <div class="pdp-custom-cta-price-container"> <span class="pdp-custom-cta-discount">and save</span> <span><span class="pdp-custom-cta-price" id="savingsValue2"></span><span class="pdf-custom-cta-price-item-per-order">/item</span></span> </div> </div> </button> <button type="submit" name="add" class="pdp-custom-payment-button pdp-custom-cta-button btn custombfs_sale" data-product-id="{{ product.variants.first.id }}" data-free-product-handle="{{ freeProductHandle }}" data-qty="3"> <span class="pdp-custom-cta-value-lable">Best Value</span> <div class="pdp-custom-payment-button-inner"> <span class="pdp-custom-cta" style="color:#121212">More than 3 Items</span> <div class="pdp-custom-cta-price-container"> <span class="pdp-custom-cta-discount">and save</span> <span><span class="pdp-custom-cta-price" id="savingsValue3"></span><span class="pdf-custom-cta-price-item-per-order">/item</span></span> </div> </div> </button> <!-- --> <button type="submit" name="add" class="pdp-custom-payment-button pdp-custom-cta-button btn custombfs_sale" data-product-id="{{ product.variants.first.id }}" data-free-product-handle="{{ freeProductHandle }}" data-qty="5"> <span class="pdp-custom-cta-value-lable">Most Savings</span> <div class="pdp-custom-payment-button-inner"> <span class="pdp-custom-cta" style="color:#121212">More than 5 Items</span> <div class="pdp-custom-cta-price-container"> <span class="pdp-custom-cta-discount">and save</span> <span><span class="pdp-custom-cta-price" id="savingsValue5"></span><span class="pdf-custom-cta-price-item-per-order">/item</span></span> </div> </div> </button> </div></div>
<style>
   .pdp-custom-payment-button.btn:active,.pdp-custom-payment-button.btn:hover,.pdp-custom-payment-wrapper .btn:active,.pdp-custom-payment-wrapper .custombfs_sale:active,.pdp-custom-payment-wrapper .custombfs_sale:hover{background:#ccece3!important}.pdf-custom-cta-price-item-per-order{color:#919191;font-size:14px;font-weight:700;letter-spacing:-.28px;line-height:1}.santa-gif{width:30px;transform:translate(0,0);opacity:1;margin-left:4px;transition:opacity .5s;z-index:100}.pdp-custom-payment-button.btn{background-color:#ccece3!important}
</style>
<script>
document.addEventListener("DOMContentLoaded",()=>{function e(){const e=document.getElementById("ProductPrice1"),t=document.getElementById("ComparePrice1");
    
    // Get the discounted price from promo-ticker if available
    const promoTickerPrice = document.querySelector('.discountAndPrice .priceContainer strong');
    let currentPrice, comparePrice;
    
    if (promoTickerPrice) {
        // Use the promo-ticker calculated price as the base
        currentPrice = parseFloat(promoTickerPrice.innerText.replace("$","").replace(",",""));
        comparePrice = currentPrice; // Use the same price as both current and compare for bulk calculations
    } else {
        // Fallback to original logic
        currentPrice = parseFloat(e.innerText.replace("$","").replace(",",""));
        comparePrice = parseFloat(t.innerText.replace("$","").replace(",","")) || currentPrice;
    }
    
    var a=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
    
    if(isNaN(currentPrice)||isNaN(comparePrice))console.error("Error: Unable to parse product or compare prices.");else{
        // Calculate bulk savings: additional 5%, 10%, 15% off the current discounted price
        let bulkDiscount2 = currentPrice * 0.05 * 2; // 5% additional for 2+ items
        let bulkDiscount3 = currentPrice * 0.10 * 3; // 10% additional for 3+ items  
        let bulkDiscount5 = currentPrice * 0.15 * 5; // 15% additional for 5+ items
        
        let e = bulkDiscount2,
            t = bulkDiscount3,
            r = bulkDiscount5;
        document.getElementById("savingsValue2").innerText="$"+a(e.toFixed(0)),
        document.getElementById("savingsValue3").innerText="$"+a(t.toFixed(0)),
        document.getElementById("savingsValue5").innerText="$"+a(r.toFixed(0))
    }
}e();var t={childList:!0,subtree:!0,characterData:!0};const r=new MutationObserver(e),n=new MutationObserver(e);var o=document.getElementById("ProductPrice1"),a=document.getElementById("ComparePrice1");r.observe(o,t),n.observe(a,t);const c=document.querySelectorAll(".pdp-custom-payment-button");c.forEach(n=>{n.addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("AddToCartForm");var r=t.querySelector("#productSelect").value,e=parseInt(n.getAttribute("data-qty"))||1;r=r,e=e,fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:r,quantity:e})}).then(e=>e.json()).then(e=>{console.log("Item added to cart:",e)}).catch(e=>{console.error("Error:",e)})})})});

</script>