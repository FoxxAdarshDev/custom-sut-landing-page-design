<style>
.countdown-container {
    margin-top: 10px;
    position: relative;
}

.countdown-timer {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}

.time-unit {
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid #ffd700;
    border-radius: 8px;
    padding: 8px 6px;
    min-width: 40px;
    text-align: center;
    backdrop-filter: blur(10px);
}

.time-unit span {
    display: block;
    font-family: 'Playfair Display', serif;
    font-size: 1rem;
    font-weight: 900;
    color: #ffd700;
    text-shadow: 1px 1px 0 #002868;
}

.time-unit label {
    color: white;
    font-size: 0.6rem;
    font-weight: 600;
    margin-top: 2px;
    display: block;
}

/* New styles for Labour Day Sale - Similar to Foxx Bioprocess styling */
.menu-lv-1__action:has(.labour-day-sale-label) {
    background: linear-gradient(135deg, #0071b9 0%, #005a94 50%, #0071b9 100%) !important;
    background-size: 200% 200% !important;
    color: #ffffff !important;
    padding: 16px 10px !important;
    border-radius: 30px !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) !important;
    box-shadow: 0 8px 25px rgba(0, 113, 185, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    position: relative !important;
    overflow: visible !important;
}

.labour-day-sale-label {
    position: absolute !important;
    top: -8px !important;
    right: -8px !important;
    background: linear-gradient(45deg, #ff6b6b, #ffd93d) !important;
    color: #333 !important;
    font-size: 10px !important;
    font-weight: 700 !important;
    padding: 3px 7px !important;
    border-radius: 12px !important;
    text-shadow: none !important;
    box-shadow: 0 2px 8px rgba(255, 107, 107, 0.4) !important;
    z-index: 10 !important;
    text-transform: uppercase !important;
}

.countdown-container {
    position: absolute !important;
    top: -12px !important;
    right: 25px !important;
    margin-top: 0 !important;
    z-index: 9 !important;
}

.countdown-timer {
    display: flex !important;
    justify-content: flex-end !important;
    gap: 3px !important;
    flex-wrap: nowrap !important;
}

.time-unit {
    background: rgba(255, 255, 255, 0.2) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 8px !important;
    padding: 2px 4px !important;
    min-width: 25px !important;
    text-align: center !important;
    backdrop-filter: blur(5px) !important;
}

.time-unit span {
    display: block !important;
    font-family: 'Arial', sans-serif !important;
    font-size: 0.6rem !important;
    font-weight: 700 !important;
    color: #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    line-height: 1 !important;
}

.time-unit label {
    color: rgba(255, 255, 255, 0.9) !important;
    font-size: 0.45rem !important;
    font-weight: 500 !important;
    margin-top: 1px !important;
    display: block !important;
    line-height: 1 !important;
}

@media (max-width: 768px) {
    .countdown-timer {
        gap: 5px;
    }

    .time-unit {
        min-width: 35px;
        padding: 6px 4px;
    }

    .time-unit span {
        font-size: 0.9rem;
    }

    .time-unit label {
        font-size: 0.5rem;
    }
}
</style>

<script>
function updateLabourDayCountdown() {
    const targetDate = new Date('2024-09-02T23:59:59').getTime();
    const now = new Date().getTime();
    const timeLeft = targetDate - now;

    if (timeLeft > 0) {
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        // Update all countdown timers
        const daysElements = document.querySelectorAll('#days');
        const hoursElements = document.querySelectorAll('#hours');
        const minutesElements = document.querySelectorAll('#minutes');
        const secondsElements = document.querySelectorAll('#seconds');

        daysElements.forEach(el => el.textContent = days.toString().padStart(2, '0'));
        hoursElements.forEach(el => el.textContent = hours.toString().padStart(2, '0'));
        minutesElements.forEach(el => el.textContent = minutes.toString().padStart(2, '0'));
        secondsElements.forEach(el => el.textContent = seconds.toString().padStart(2, '0'));
    }
}

// Initialize countdown
document.addEventListener('DOMContentLoaded', function() {
    updateLabourDayCountdown();
    setInterval(updateLabourDayCountdown, 1000);
});
</script>

<li class="menu-lv-item menu-lv-1 text-left no-megamenu{% if link.links != blank %} dropdown{% endif %}{% if sale_item_lv1 contains title %} menu-sale{% endif %}">
{%- if link.links != blank -%}<a class="menu-lv-1__action  header__menu-item list-menu__item link focus-inset menu_mobile_link link-effect"{% if link.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ link.url }}"{% endif %}><span class="text{%- if link.child_active %} header__active-menu-item{% endif %} p-relative">{{ link.title | escape }}</span>
        <span class="icon-dropdown" data-toggle-menu-mb="">{% render 'icon-caret-right' %}</span>
        {%- if new_label_1 contains title -%}
            <span class="label new-label">{{ 'general.navigation.new_label' | t }}</span>
        {%- elsif sale_label_1 contains title -%}
            <span class="label sale-label">{{ 'general.navigation.sale_label' | t }}</span>
        {%- elsif hot_label_1 contains title -%}
            <span class="label hot-label">{{ 'general.navigation.hot_label' | t }}</span>
        {%- endif -%}
    {%- if link.title contains "Labour Day Sale" -%}
            <span class="labour-day-sale-label">SALE</span>
            <div class="countdown-container">
                <div class="countdown-timer">
                    <div class="time-unit">
                        <span id="days">30</span>
                        <label>D</label>
                    </div>
                    <div class="time-unit">
                        <span id="hours">22</span>
                        <label>H</label>
                    </div>
                    <div class="time-unit">
                        <span id="minutes">48</span>
                        <label>M</label>
                    </div>
                    <div class="time-unit">
                        <span id="seconds">15</span>
                        <label>S</label>
                    </div>
                </div>
            </div>
        {%- endif -%}
    </a>
    <ul class="header__submenu list-menu list-menu--disclosure list-menu--disclosure-1 caption-large motion-reduce" role="list" >
        <div class="nav-title-mobile text-center"><span class="icon-dropdown">{% render 'icon-arrow-nav' %}</span>{{ link.title | escape }}</div>
        <li class="menu-lv-item menu-lv-2 text-left navigation_all_mobile d-none"><a {% if link.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ link.url }}"{% endif %} class="menu-lv-2__action header__menu-item list-menu__item link link--text focus-inset caption-large link-effect"{% if childlink.current %} aria-current="page"{% endif %}><span class="text{%- if link.child_active %} header__active-menu-item{% endif %} p-relative">{{ 'general.navigation.go_to' | t }} {{ link.title | escape }}</span></a></li>
        {%- for childlink in link.links -%}
            {% assign childtitle = childlink.title | escape | downcase | handle %}
            <li class="menu-lv-item menu-lv-2 text-left {% if childlink.links != blank %} dropdown{% endif %} {% if sale_item_lv2 contains childtitle %} menu-sale{% endif %}{% if show_label_blink %} menu-lv-blink{% endif %}">
                {%- if childlink.links == blank -%}
                    <a {% if childlink.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ childlink.url }}"{% endif %} class="menu-lv-2__action header__menu-item list-menu__item link link--text focus-inset caption-large link-effect"{% if childlink.current %} aria-current="page"{% endif %}><span class="text{% if childlink.current %} list-menu__item--active{% endif %} p-relative">{{ childlink.title | escape }}</span>
                        {%- if new_label_2 contains childtitle -%}
                            <span class="label new-label">{{ 'general.navigation.new_label' | t }}</span>
                        {%- elsif sale_label_2 contains childtitle -%}
                            <span class="label sale-label">{{ 'general.navigation.sale_label' | t }}</span>
                        {%- elsif hot_label_2 contains childtitle -%}
                            <span class="label hot-label">{{ 'general.navigation.hot_label' | t }}</span>
                        {%- endif -%}
                    </a>
                {%- else -%}
                    <div class="site-nav-list-dropdown">
                        <a class="menu-lv-2__action header__menu-item link link--text list-menu__item focus-inset caption-large menu_mobile_link_2 has-icon link-effect"{% if childlink.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ childlink.url }}"{% endif %}><span class="text{% if childlink.current %} list-menu__item--active{% endif %} p-relative">{{ childlink.title | escape }}</span>
                            <span class="icon-dropdown" data-toggle-menu-mb="">{% render 'icon-caret-right' %}</span>
                            {%- if new_label_2 contains childtitle -%}
                                <span class="label new-label">{{ 'general.navigation.new_label' | t }}</span>
                            {%- elsif sale_label_2 contains childtitle -%}
                                <span class="label sale-label">{{ 'general.navigation.sale_label' | t }}</span>
                            {%- elsif hot_label_2 contains childtitle -%}
                                <span class="label hot-label">{{ 'general.navigation.hot_label' | t }}</span>
                            {%- endif -%}
                        </a>
                        <ul class="header__submenu list-menu--disclosure list-menu--disclosure-2 list-menu motion-reduce">
                            <div class="nav-title-mobile text-center"><span class="icon-dropdown">{% render 'icon-arrow-nav' %}</span> {{ link.title | escape }}</div>
                            <li class="menu-lv-item menu-lv-3 text-left navigation_all_mobile d-none"><a {% if childlink.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ childlink.url }}"{% endif %} class="menu-lv-3__action header__menu-item list-menu__item link link--text focus-inset caption-large"><span class="text">{{ 'general.navigation.go_to' | t }} {{ childlink.title | escape }}</span></a></li>
                            {%- for grandchildlink in childlink.links -%}
                                {% assign grandchildtitle = grandchildlink.title | escape | downcase | handle %}
                                <li class="menu-lv-item menu-lv-3 text-left{% if sale_item_lv3 contains grandchildtitle %} menu-sale{% endif %}"><a {% if grandchildlink.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ grandchildlink.url }}"{% endif %} class="menu-lv-3__action header__menu-item list-menu__item link link--text focus-inset caption-large link-effect"{% if grandchildlink.current %} aria-current="page"{% endif %}><span class="text{% if grandchildlink.current %} list-menu__item--active{% endif %} p-relative">{{ grandchildlink.title | escape }}</span>
                                        {%- if new_label_3 contains grandchildtitle -%}
                                            <span class="label new-label">{{ 'general.navigation.new_label' | t }}</span>
                                        {%- elsif sale_label_3 contains grandchildtitle -%}
                                            <span class="label sale-label">{{ 'general.navigation.sale_label' | t }}</span>
                                        {%- elsif hot_label_3 contains grandchildtitle -%}
                                            <span class="label hot-label">{{ 'general.navigation.hot_label' | t }}</span>
                                        {%- endif -%}
                                    </a></li>
                            {%- endfor -%}
                        </ul>
                    </div>
                {%- endif -%}
            </li>
        {%- endfor -%}
    </ul>
{%- else -%}
    <a {% if link.url == blank %} role="link" aria-disabled="true"{% else %} href="{{ link.url }}"{% endif %} class="menu-lv-1__action header__menu-item header__menu-item list-menu__item link link--text focus-inset link-effect"{% if link.current %} aria-current="page"{% endif %}><span class="text{%- if link.current %} header__active-menu-item{% endif %} p-relative">{{ link.title | escape }}</span>
        {%- if new_label_1 contains title -%}
            <span class="label new-label">{{ 'general.navigation.new_label' | t }}</span>
        {%- elsif sale_label_1 contains title -%}
            <span class="label sale-label">{{ 'general.navigation.sale_label' | t }}</span>
        {%- elsif hot_label_1 contains title -%}
            <span class="label hot-label">{{ 'general.navigation.hot_label' | t }}</span>
        {%- endif -%}
        {%- if link.title contains "Labour Day Sale" -%}
            <span class="labour-day-sale-label">SALE</span>
            <div class="countdown-container">
                <div class="countdown-timer">
                    <div class="time-unit">
                        <span id="days">30</span>
                        <label>D</label>
                    </div>
                    <div class="time-unit">
                        <span id="hours">22</span>
                        <label>H</label>
                    </div>
                    <div class="time-unit">
                        <span id="minutes">48</span>
                        <label>M</label>
                    </div>
                    <div class="time-unit">
                        <span id="seconds">15</span>
                        <label>S</label>
                    </div>
                </div>
            </div>
        {%- endif -%}
    </a>
{%- endif -%}
</li>