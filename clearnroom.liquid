
{% schema %}
{
  "name": "Cleanroom Section",
  "class": "cleanroom-section",
  "blocks": [
    {
      "type": "hero_section",
      "name": "Hero Section",
      "settings": [
        {
          "type": "checkbox",
          "id": "enable_hero_section",
          "label": "Enable Hero Section",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "hero_image",
          "label": "Hero Image"
        },
        {
          "type": "radio",
          "id": "hero_content_display",
          "label": "Content Display",
          "options": [
            {
              "value": "full_content",
              "label": "Show All Content"
            },
            {
              "value": "image_only",
              "label": "Image Only"
            }
          ],
          "default": "full_content"
        },
        {
          "type": "text",
          "id": "hero_title",
          "label": "Hero Title",
          "default": "World Class Cleanroom"
        },
        {
          "type": "textarea",
          "id": "hero_description",
          "label": "Hero Description",
          "default": "State-of-the-art cleanroom facilities for pharmaceutical manufacturing"
        },
        {
          "type": "text",
          "id": "hero_button_text",
          "label": "Hero Button Text",
          "default": "Learn More"
        },
        {
          "type": "url",
          "id": "hero_button_url",
          "label": "Hero Button URL"
        }
      ]
    },
    {
      "type": "banner_section",
      "name": "Banner Section",
      "settings": [
        {
          "type": "image_picker",
          "id": "banner_image",
          "label": "Banner Background Image"
        },
        {
          "type": "radio",
          "id": "banner_content_display",
          "label": "Content Display",
          "options": [
            {
              "value": "full_content",
              "label": "Show All Content"
            },
            {
              "value": "image_only",
              "label": "Image Only"
            }
          ],
          "default": "full_content"
        },
        {
          "type": "text",
          "id": "banner_title",
          "label": "Banner Title",
          "default": "World Class Clean Room manufacturing"
        },
        {
          "type": "textarea",
          "id": "banner_description",
          "label": "Banner Description",
          "default": "Foxx Life Sciences has 3 DEM certified Clean rooms with full assembly lines between three locations (Londonderry, NH, Salem, NH, and Hyderabad, India)."
        },
        {
          "type": "text",
          "id": "banner_button_text",
          "label": "Banner Button Text",
          "default": "SHOP NOW"
        },
        {
          "type": "url",
          "id": "banner_button_url",
          "label": "Banner Button URL"
        },
        {
          "type": "checkbox",
          "id": "banner_fixed_scroll",
          "label": "Fixed Scroll Background",
          "default": true
        }
      ]
    },
    {
      "type": "welcome_section",
      "name": "Welcome Section",
      "settings": [
        {
          "type": "text",
          "id": "welcome_title",
          "label": "Welcome Title",
          "default": "DEDICATED SINGLE-USE MANUFACTURING"
        },
        {
          "type": "textarea",
          "id": "welcome_description",
          "label": "Welcome Description",
          "default": "Conveniently located in Londonderry, USA, our brand new 21,000 square foot facility is complete with a 5,200 square foot, state-of-the-art cleanroom split into ISO 7 and 8 classifications."
        },
        {
          "type": "image_picker",
          "id": "welcome_image",
          "label": "Welcome Section Image"
        },
        {
          "type": "textarea",
          "id": "welcome_video_text",
          "label": "Welcome Video Text",
          "default": "ISO Class 7 (10K) Cleanroom, perfect for custom assemblies at any volume! Complete documentation of the entire production process. Batch Records • 5O • Finished Goods Records Ability to source any materials required by the customer's ISO 13485 12 years in a row"
        },
        {
          "type": "text",
          "id": "watch_video_text",
          "label": "Watch Video Button Text",
          "default": "WATCH VIDEO"
        },
        {
          "type": "url",
          "id": "watch_video_url",
          "label": "Watch Video URL"
        },
        {
          "type": "text",
          "id": "request_quote_text",
          "label": "Request Quote Button Text",
          "default": "REQUEST A QUOTE"
        },
        {
          "type": "url",
          "id": "request_quote_url",
          "label": "Request Quote URL"
        },
        {
          "type": "text",
          "id": "welcome_video_file",
          "label": "Welcome Video File (MP4 URL)",
          "info": "Enter direct URL to MP4 file for embedded video"
        },
        {
          "type": "checkbox",
          "id": "show_video_popup",
          "label": "Show Video in Popup",
          "default": true
        }
      ]
    },
    {
      "type": "iso7_class",
      "name": "ISO 7 Classification",
      "settings": [
        {
          "type": "image_picker",
          "id": "iso7_bg_image",
          "label": "ISO 7 Background Image"
        },
        {
          "type": "radio",
          "id": "iso7_content_display",
          "label": "Content Display",
          "options": [
            {
              "value": "full_content",
              "label": "Show All Content"
            },
            {
              "value": "image_only",
              "label": "Image Only"
            }
          ],
          "default": "full_content"
        },
        {
          "type": "text",
          "id": "iso7_title",
          "label": "ISO 7 Title",
          "default": "ISO 7 CLASSIFICATION"
        },
        {
          "type": "text",
          "id": "iso7_subtitle",
          "label": "ISO 7 Subtitle",
          "default": "SINGLE-USE MANUFACTURING SUITES"
        },
        {
          "type": "textarea",
          "id": "iso7_description",
          "label": "ISO 7 Description",
          "default": "This is one of the most common classes of cleanrooms. With an ISO 8 airlock/gowning room prior to entering the ISO 7 room, the air changes per hour will vary in both rooms as described below."
        },
        {
          "type": "text",
          "id": "iso7_button_text",
          "label": "ISO 7 Button Text",
          "default": "REQUEST A QUOTE"
        },
        {
          "type": "url",
          "id": "iso7_button_url",
          "label": "ISO 7 Button URL"
        },
        {
          "type": "text",
          "id": "iso7_video_file",
          "label": "ISO 7 Video File (MP4 URL)",
          "info": "Enter direct URL to MP4 file for embedded video"
        },
        {
          "type": "checkbox",
          "id": "iso7_fixed_scroll",
          "label": "Fixed Scroll Background",
          "default": true
        }
      ]
    },
    {
      "type": "iso_zone",
      "name": "ISO Zone Info",
      "settings": [
        {
          "type": "text",
          "id": "zone_text",
          "label": "Zone Text",
          "default": "ISO 7 zone | 30-60 air changes per hour"
        }
      ]
    },
    {
      "type": "classifications_section",
      "name": "Classifications Section",
      "settings": [
        {
          "type": "text",
          "id": "classifications_title",
          "label": "Classifications Title",
          "default": "CLEANROOM CLASSIFICATIONS"
        },
        {
          "type": "textarea",
          "id": "classifications_description",
          "label": "Classifications Description",
          "default": "Cleanrooms are classified according to the cleanliness level of the air inside them. The cleanroom class is the level of cleanliness the room complies with, according to the quantity and size of particles per volume of air."
        },
        {
          "type": "text",
          "id": "classifications_button_text",
          "label": "Classifications Button Text",
          "default": "LEARN MORE"
        },
        {
          "type": "url",
          "id": "classifications_button_url",
          "label": "Classifications Button URL"
        }
      ]
    },
    {
      "type": "grid_image",
      "name": "Grid Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "grid_image",
          "label": "Grid Image"
        },
        {
          "type": "text",
          "id": "grid_title",
          "label": "Grid Title",
          "default": "Advanced Equipment"
        },
        {
          "type": "text",
          "id": "grid_description",
          "label": "Grid Description",
          "default": "State-of-the-art cleanroom technology"
        }
      ]
    },
    {
      "type": "quality_commit",
      "name": "Quality Commitment",
      "settings": [
        {
          "type": "image_picker",
          "id": "quality_bg_image",
          "label": "Quality Background Image"
        },
        {
          "type": "radio",
          "id": "quality_content_display",
          "label": "Content Display",
          "options": [
            {
              "value": "full_content",
              "label": "Show All Content"
            },
            {
              "value": "image_only",
              "label": "Image Only"
            }
          ],
          "default": "full_content"
        },
        {
          "type": "text",
          "id": "quality_title",
          "label": "Quality Title",
          "default": "OUR COMMITMENT TO QUALITY"
        },
        {
          "type": "textarea",
          "id": "quality_description",
          "label": "Quality Description",
          "default": "Our customers can be assured that the products that they receive meet their stringent quality standards."
        },
        {
          "type": "text",
          "id": "quality_button_text",
          "label": "Quality Button Text",
          "default": "LEARN MORE"
        },
        {
          "type": "url",
          "id": "quality_button_url",
          "label": "Quality Button URL"
        },
        {
          "type": "text",
          "id": "quality_video_file",
          "label": "Quality Video File (MP4 URL)",
          "info": "Enter direct URL to MP4 file for embedded video"
        },
        {
          "type": "checkbox",
          "id": "quality_fixed_scroll",
          "label": "Fixed Scroll Background",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Cleanroom Section",
      "category": "Services",
      "blocks": [
        {
          "type": "hero_section"
        },
        {
          "type": "banner_section"
        },
        {
          "type": "welcome_section"
        },
        {
          "type": "iso7_class"
        },
        {
          "type": "iso_zone"
        },
        {
          "type": "iso_zone"
        },
        {
          "type": "classifications_section"
        },
        {
          "type": "grid_image"
        },
        {
          "type": "grid_image"
        },
        {
          "type": "grid_image"
        },
        {
          "type": "quality_commit"
        }
      ]
    }
  ]
}
{% endschema %}

<!-- Hero Banner Section -->
{% if settings.show_hero_banner %}
<section class="cleanroom-hero-banner">
  {% if settings.hero_banner_image %}
    <div class="hero-banner-background" style="background-image: url('{{ settings.hero_banner_image | img_url: '1920x' }}');">
  {% endif %}
      <div class="hero-banner-overlay">
        <div class="container">
          <div class="hero-banner-content">
            <h2 class="hero-banner-title">{{ settings.hero_banner_title }}</h2>
            <p class="hero-banner-description">{{ settings.hero_banner_description }}</p>
            {% if settings.hero_banner_button_text and settings.hero_banner_button_url %}
              <a href="{{ settings.hero_banner_button_url }}" class="btn btn-primary hero-banner-btn">
                {{ settings.hero_banner_button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
  {% if settings.hero_banner_image %}
    </div>
  {% endif %}
</section>
{% endif %}

<!-- Dynamic Blocks Content -->
{% for block in section.blocks %}
  {% case block.type %}
    
    {% when 'hero_section' %}
      {% if block.settings.enable_hero_section %}
      <section class="cleanroom-hero-section" {{ block.shopify_attributes }}>
        {% if block.settings.hero_image %}
          <div class="hero-background" style="background-image: url('{{ block.settings.hero_image | img_url: '1920x' }}');">
        {% else %}
          <div class="hero-background" style="background: linear-gradient(135deg, #0071b9 0%, #005a91 100%);">
        {% endif %}
            {% if block.settings.hero_content_display == 'full_content' %}
              <div class="hero-overlay">
                <div class="hero-content container">
                  <h1 class="hero-title">{{ block.settings.hero_title }}</h1>
                  <p class="hero-description">{{ block.settings.hero_description }}</p>
                  {% if block.settings.hero_button_text and block.settings.hero_button_url %}
                    <a href="{{ block.settings.hero_button_url }}" class="btn btn-primary hero-btn">
                      {{ block.settings.hero_button_text }}
                    </a>
                  {% endif %}
                </div>
              </div>
            {% endif %}
          </div>
      </section>
      {% endif %}

    {% when 'banner_section' %}
      <section class="cleanroom-banner-section{% if block.settings.banner_fixed_scroll %} fixed-scroll{% endif %}" {{ block.shopify_attributes }}>
        {% if block.settings.banner_image %}
          <div class="banner-background" style="background-image: url('{{ block.settings.banner_image | img_url: '1920x' }}');">
        {% endif %}
            {% if block.settings.banner_content_display == 'full_content' %}
              <div class="banner-overlay">
                <div class="container">
                  <div class="banner-content">
                    <h2 class="banner-title">{{ block.settings.banner_title }}</h2>
                    <p class="banner-description">{{ block.settings.banner_description }}</p>
                    {% if block.settings.banner_button_text and block.settings.banner_button_url %}
                      <a href="{{ block.settings.banner_button_url }}" class="btn btn-primary banner-btn">
                        {{ block.settings.banner_button_text }}
                      </a>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}
        {% if block.settings.banner_image %}
          </div>
        {% endif %}
      </section>

    {% when 'welcome_section' %}
      <section class="cleanroom-welcome-section" {{ block.shopify_attributes }}>
        <div class="container">
          <div class="welcome-header">
            <h2 class="welcome-title">{{ block.settings.welcome_title }}</h2>
            <p class="welcome-description">{{ block.settings.welcome_description }}</p>
          </div>

          <div class="welcome-content">
            <div class="welcome-media">
              {% if block.settings.welcome_image != blank %}
                <div class="welcome-video-container">
                  <img src="{{ block.settings.welcome_image | image_url: width: 800 }}" 
                       alt="Cleanroom Facility" 
                       class="welcome-image">
                  <div class="video-overlay">
                    {% if block.settings.watch_video_url != blank %}
                      <button class="play-button" onclick="{% if block.settings.show_video_popup %}openVideoPopup('{{ block.settings.watch_video_url }}'){% else %}window.open('{{ block.settings.watch_video_url }}', '_blank'){% endif %}">
                        <svg width="60" height="60" viewBox="0 0 60 60">
                          <circle cx="30" cy="30" r="28" fill="rgba(255,255,255,0.9)" stroke="#0071b9" stroke-width="2"/>
                          <polygon points="24,18 24,42 42,30" fill="#0071b9"/>
                        </svg>
                      </button>
                    {% endif %}
                  </div>
                </div>
              {% endif %}

              {% if block.settings.welcome_video_file != blank %}
                <div class="welcome-video-embed">
                  <video controls preload="metadata" class="embedded-video">
                    <source src="{{ block.settings.welcome_video_file }}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              {% endif %}
            </div>

            <div class="welcome-text">
              <p class="video-description">{{ block.settings.welcome_video_text }}</p>
              
              <div class="welcome-actions">
                {% if block.settings.watch_video_url != blank %}
                  <a href="javascript:void(0)" onclick="{% if block.settings.show_video_popup %}openVideoPopup('{{ block.settings.watch_video_url }}'){% else %}window.open('{{ block.settings.watch_video_url }}', '_blank'){% endif %}" class="btn btn-primary watch-video-btn">
                    {{ block.settings.watch_video_text }}
                  </a>
                {% endif %}
                
                {% if block.settings.request_quote_url != blank %}
                  <a href="{{ block.settings.request_quote_url }}" class="btn btn-secondary quote-btn">
                    {{ block.settings.request_quote_text }}
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </section>

    {% when 'iso7_class' %}
      <section class="cleanroom-iso7-section{% if block.settings.iso7_fixed_scroll %} fixed-scroll{% endif %}" {{ block.shopify_attributes }}>
        {% if block.settings.iso7_bg_image != blank %}
          <div class="iso7-background" style="background-image: url('{{ block.settings.iso7_bg_image | img_url: '1920x' }}');">
        {% endif %}
            {% if block.settings.iso7_content_display == 'full_content' %}
              <div class="iso7-overlay">
                <div class="container">
                  <div class="iso7-content">
                    <h2 class="iso7-title">{{ block.settings.iso7_title }}</h2>
                    <h3 class="iso7-subtitle">{{ block.settings.iso7_subtitle }}</h3>
                    <p class="iso7-description">{{ block.settings.iso7_description }}</p>
                    
                    <div class="iso-zones">
                      {% for zone_block in section.blocks %}
                        {% if zone_block.type == 'iso_zone' %}
                          <div class="zone-info" {{ zone_block.shopify_attributes }}>
                            <span class="zone-text">{{ zone_block.settings.zone_text }}</span>
                          </div>
                        {% endif %}
                      {% endfor %}
                    </div>

                    {% if block.settings.iso7_video_file != blank %}
                      <div class="iso7-video-embed">
                        <video controls preload="metadata" class="embedded-video">
                          <source src="{{ block.settings.iso7_video_file }}" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                      </div>
                    {% endif %}

                    {% if block.settings.iso7_button_url != blank %}
                      <a href="{{ block.settings.iso7_button_url }}" class="btn btn-primary iso7-btn">
                        {{ block.settings.iso7_button_text }}
                      </a>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}
        {% if block.settings.iso7_bg_image != blank %}
          </div>
        {% endif %}
      </section>

    {% when 'classifications_section' %}
      <section class="cleanroom-classifications-section" {{ block.shopify_attributes }}>
        <div class="container">
          <div class="classifications-header">
            <h2 class="classifications-title">{{ block.settings.classifications_title }}</h2>
            <p class="classifications-description">{{ block.settings.classifications_description }}</p>
            
            {% if block.settings.classifications_button_url != blank %}
              <a href="{{ block.settings.classifications_button_url }}" class="btn btn-primary classifications-btn">
                {{ block.settings.classifications_button_text }}
              </a>
            {% endif %}
          </div>

          <div class="classifications-grid">
            {% for grid_block in section.blocks %}
              {% if grid_block.type == 'grid_image' and grid_block.settings.grid_image != blank %}
                <div class="grid-item" {{ grid_block.shopify_attributes }}>
                  <img src="{{ grid_block.settings.grid_image | image_url: width: 600 }}" alt="{{ grid_block.settings.grid_title }}" class="grid-image">
                  <div class="grid-overlay">
                    <div class="grid-content">
                      <h4>{{ grid_block.settings.grid_title }}</h4>
                      <p>{{ grid_block.settings.grid_description }}</p>
                    </div>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </section>

    {% when 'quality_commit' %}
      <section class="cleanroom-quality-section{% if block.settings.quality_fixed_scroll %} fixed-scroll{% endif %}" {{ block.shopify_attributes }}>
        {% if block.settings.quality_bg_image != blank %}
          <div class="quality-background" style="background-image: url('{{ block.settings.quality_bg_image | img_url: '1920x' }}');">
        {% endif %}
            {% if block.settings.quality_content_display == 'full_content' %}
              <div class="quality-overlay">
                <div class="container">
                  <div class="quality-content">
                    <h2 class="quality-title">{{ block.settings.quality_title }}</h2>
                    <p class="quality-description">{{ block.settings.quality_description }}</p>

                    {% if block.settings.quality_video_file != blank %}
                      <div class="quality-video-embed">
                        <video controls preload="metadata" class="embedded-video">
                          <source src="{{ block.settings.quality_video_file }}" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                      </div>
                    {% endif %}

                    {% if block.settings.quality_button_text != blank %}
                      <a href="{{ block.settings.quality_button_url }}" class="quality-button">
                        {{ block.settings.quality_button_text }}
                      </a>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}
        {% if block.settings.quality_bg_image != blank %}
          </div>
        {% endif %}
      </section>

  {% endcase %}
{% endfor %}

<!-- Video Popup Modal -->
<div id="videoPopupModal" class="video-popup-modal" style="display: none;">
  <div class="video-popup-overlay" onclick="closeVideoPopup()"></div>
  <div class="video-popup-content">
    <button class="video-popup-close" onclick="closeVideoPopup()">&times;</button>
    <div class="video-popup-wrapper">
      <iframe id="videoPopupFrame" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
</div>

<style>
/* Global Styles */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.btn {
  display: inline-block;
  padding: 12px 30px;
  text-decoration: none;
  font-weight: 600;
  font-size: 14px;
  letter-spacing: 1px;
  text-transform: uppercase;
  border-radius: 5px;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  text-align: center;
}

.btn-primary {
  background: #0071b9;
  color: white;
  border: 2px solid #0071b9;
}

.btn-primary:hover {
  background: rgba(0, 113, 185, 0.8);
  transform: translateY(-2px);
}

.btn-secondary {
  background: transparent;
  color: #0071b9;
  border: 2px solid #0071b9;
}

.btn-secondary:hover {
  background: #0071b9;
  color: white;
}

/* Hero Image Styles */
.cleanroom-hero-section {
  position: relative;
  height: 60vh;
  min-height: 400px;
  max-height: 600px;
  overflow: hidden;
}

.hero-image-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 1;
}

.hero-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3;
}

.hero-content {
  text-align: center;
  color: white;
  max-width: 800px;
}

.hero-title {
  font-size: 4rem;
  font-weight: 700;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.hero-description {
  font-size: 1.6rem;
  line-height: 1.6;
  margin-bottom: 30px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.hero-btn {
  background: white;
  color: #0071b9;
  border: 2px solid white;
  padding: 15px 40px;
  font-size: 1rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.hero-btn:hover {
  background: transparent;
  color: white;
  border-color: white;
}

/* Hero Banner Styles */
.cleanroom-hero-banner {
  position: relative;
  min-height: 400px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  width: 100%;
}

.hero-banner-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 1;
}

.hero-banner-overlay {
  position: relative;
  z-index: 3;
  background: rgba(0, 113, 185, 0.8);
  width: 100%;
  min-height: 400px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
}

.hero-banner-content {
  text-align: center;
  color: white;
  max-width: 800px;
}

.hero-banner-title {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

/* Banner Section Styles */
.cleanroom-banner-section {
  position: relative;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  width: 100%;
}

.cleanroom-banner-section.fixed-scroll .banner-background {
  background-attachment: fixed;
}

.banner-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 1;
}

.banner-overlay {
  position: relative;
  z-index: 3;
  background: rgba(0, 0, 0, 0.6);
  width: 100%;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
}

.banner-content {
  text-align: center;
  color: white;
  max-width: 900px;
}

.banner-title {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: 30px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.banner-description {
  font-size: 1.4rem;
  line-height: 1.6;
  margin-bottom: 40px;
}

/* Welcome Section */
.cleanroom-welcome-section {
  padding: 100px 0;
  background: #f8f9fa;
}

.welcome-header {
  text-align: center;
  margin-bottom: 60px;
}

.welcome-title {
  font-size: 3.5rem;
  color: #0071b9;
  font-weight: 300;
  margin-bottom: 30px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.welcome-description {
  font-size: 1.4rem;
  color: #666;
  line-height: 1.6;
  max-width: 800px;
  margin: 0 auto;
}

.welcome-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
}

.welcome-video-container {
  position: relative;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
}

.welcome-image {
  width: 100%;
  height: auto;
  display: block;
}

.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.welcome-video-container:hover .video-overlay {
  opacity: 1;
}

.play-button {
  background: none;
  border: none;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.play-button:hover {
  transform: scale(1.1);
}

.welcome-video-embed {
  margin-top: 30px;
  text-align: center;
}

.embedded-video {
  width: 100%;
  max-width: 600px;
  height: auto;
  border-radius: 15px;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
}

.video-description {
  font-size: 1.3rem;
  color: #666;
  line-height: 1.7;
  margin-bottom: 40px;
}

.welcome-actions {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

/* ISO 7 Classification Section */
.cleanroom-iso7-section {
  position: relative;
  padding: 120px 0;
  overflow: hidden;
  min-height: 600px;
}

.cleanroom-iso7-section.fixed-scroll .iso7-background {
  background-attachment: fixed;
}

.iso7-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  z-index: 1;
}

.iso7-overlay {
  position: relative;
  z-index: 3;
  background: rgba(0, 113, 185, 0.9);
  width: 100%;
  min-height: 100%;
  padding: 120px 0;
}

.iso7-content {
  text-align: center;
  color: white;
}

.iso7-title {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.iso7-subtitle {
  font-size: 2.3rem;
  font-weight: 400;
  margin-bottom: 40px;
  text-transform: uppercase;
  opacity: 0.9;
}

.iso7-description {
  font-size: 1.4rem;
  line-height: 1.6;
  margin-bottom: 50px;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.iso-zones {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin-bottom: 50px;
  flex-wrap: wrap;
}

.zone-info {
  background: rgba(255, 255, 255, 0.1);
  padding: 20px 30px;
  border-radius: 10px;
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.zone-text {
  font-size: 1.3rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.iso7-video-embed {
  margin: 40px 0;
  text-align: center;
}

.iso7-btn {
  background: white;
  color: #0071b9;
  border: 2px solid white;
}

.iso7-btn:hover {
  background: transparent;
  color: white;
  border-color: white;
}

/* Classifications Section */
.cleanroom-classifications-section {
  padding: 100px 0;
  background: white;
}

.classifications-header {
  text-align: center;
  margin-bottom: 80px;
}

.classifications-title {
  font-size: 3.5rem;
  color: #0071b9;
  font-weight: 700;
  margin-bottom: 30px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.classifications-description {
  font-size: 1.4rem;
  color: #666;
  line-height: 1.6;
  max-width: 800px;
  margin: 0 auto 40px auto;
}

.classifications-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-top: 60px;
}

.grid-item {
  position: relative;
  border-radius: 15px;
  overflow: hidden;
  aspect-ratio: 4/3;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.grid-item:hover {
  transform: translateY(-10px);
}

.grid-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.grid-item:hover .grid-image {
  transform: scale(1.1);
}

.grid-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
  padding: 40px 20px 20px;
  color: white;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.grid-item:hover .grid-overlay {
  transform: translateY(0);
}

.grid-content h4 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 10px;
}

.grid-content p {
  font-size: 1.2rem;
  opacity: 0.9;
  margin: 0;
}

/* Quality Section */
.cleanroom-quality-section {
  position: relative;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow: hidden;
}

.cleanroom-quality-section.fixed-scroll .quality-background {
  background-attachment: fixed;
}

.quality-background {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 1;
}

.quality-overlay {
  position: relative;
  z-index: 3;
  background: rgba(0, 0, 0, 0.6);
  width: 100%;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
}

.quality-content {
  text-align: center;
  max-width: 900px;
  width: 100%;
}

.quality-title {
  color: white;
  font-size: clamp(2.5rem, 4vw, 4.5rem);
  font-weight: 700;
  margin-bottom: 30px;
  text-transform: uppercase;
  letter-spacing: 2px;
  line-height: 1.2;
}

.quality-description {
  color: white;
  font-size: clamp(1.2rem, 2vw, 2rem);
  line-height: 1.4;
  margin-bottom: 40px;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.quality-video-embed {
  margin: 40px 0;
  text-align: center;
}

.quality-button {
  background: transparent;
  border: 2px solid white;
  color: white;
  padding: 15px 35px;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  text-transform: uppercase;
  border-radius: 5px;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.quality-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.quality-button:hover::before {
  left: 100%;
}

.quality-button:hover {
  background: white;
  color: #0071b9;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
}

/* Video Popup Modal */
.video-popup-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.video-popup-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  cursor: pointer;
}

.video-popup-content {
  position: relative;
  width: 90%;
  max-width: 800px;
  background: #000;
  border-radius: 10px;
  overflow: hidden;
}

.video-popup-close {
  position: absolute;
  top: -40px;
  right: 0;
  background: none;
  border: none;
  color: white;
  font-size: 30px;
  cursor: pointer;
  z-index: 10000;
}

.video-popup-wrapper {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
}

.video-popup-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.5rem;
  }

  .hero-description {
    font-size: 1.1rem;
  }

  .banner-title {
    font-size: 2rem;
  }

  .hero-banner-title {
    font-size: 2rem;
  }

  .hero-banner-description {
    font-size: 1.1rem;
  }

  .hero-banner-overlay {
    min-height: 300px;
    padding: 40px 15px;
  }

  .banner-overlay {
    min-height: 300px;
    padding: 40px 15px;
  }

  .welcome-content {
    grid-template-columns: 1fr;
    gap: 40px;
  }

  .welcome-title {
    font-size: 2rem;
  }

  .welcome-actions {
    justify-content: center;
  }

  .iso7-title {
    font-size: 2rem;
  }

  .iso7-subtitle {
    font-size: 1.3rem;
  }

  .iso-zones {
    flex-direction: column;
    align-items: center;
  }

  .classifications-title {
    font-size: 2rem;
  }

  .classifications-grid {
    grid-template-columns: 1fr;
    gap: 30px;
  }

  .quality-title {
    font-size: 2.5rem;
  }

  .cleanroom-quality-section {
    min-height: 300px;
  }

  .quality-overlay {
    min-height: 300px;
    padding: 40px 15px;
  }

  .quality-title {
    font-size: 1.8rem;
    line-height: 1.1;
    margin-bottom: 20px;
  }

  .quality-description {
    font-size: 1rem;
    line-height: 1.3;
    margin-bottom: 25px;
  }

  .quality-button {
    padding: 12px 25px;
    font-size: 0.9rem;
  }

  /* Fix mobile background attachment issues */
  .cleanroom-banner-section.fixed-scroll .banner-background,
  .cleanroom-iso7-section.fixed-scroll .iso7-background,
  .cleanroom-quality-section.fixed-scroll .quality-background {
    background-attachment: scroll !important;
  }
}

@media (max-width: 480px) {
  .cleanroom-hero-section {
    height: 50vh;
    min-height: 300px;
    max-height: 400px;
  }

  .hero-title {
    font-size: 1.8rem;
  }

  .hero-description {
    font-size: 1rem;
  }

  .hero-banner-title, .banner-title {
    font-size: 1.5rem;
  }

  .hero-banner-description, .banner-description {
    font-size: 1rem;
  }

  .hero-banner-overlay, .banner-overlay {
    min-height: 250px;
    padding: 30px 10px;
  }

  .hero-banner-btn, .banner-btn {
    padding: 12px 25px;
    font-size: 0.9rem;
  }

  .welcome-title {
    font-size: 1.5rem;
  }

  .iso7-title {
    font-size: 1.5rem;
  }

  .classifications-title {
    font-size: 1.5rem;
  }

  .quality-title {
    font-size: 2rem;
  }

  .cleanroom-quality-section {
    min-height: 250px;
  }

  .quality-overlay {
    min-height: 250px;
    padding: 30px 10px;
  }

  .quality-title {
    font-size: 1.4rem;
    line-height: 1;
    margin-bottom: 15px;
  }

  .quality-description {
    font-size: 0.9rem;
    line-height: 1.2;
    margin-bottom: 20px;
  }

  .quality-button {
    padding: 10px 20px;
    font-size: 0.8rem;
  }
}
</style>

<script>
function openVideoPopup(videoUrl) {
  var modal = document.getElementById('videoPopupModal');
  var iframe = document.getElementById('videoPopupFrame');
  
  // Convert regular YouTube URL to embed URL if needed
  if (videoUrl.includes('youtube.com/watch?v=')) {
    var videoId = videoUrl.split('v=')[1];
    var ampersandPosition = videoId.indexOf('&');
    if (ampersandPosition !== -1) {
      videoId = videoId.substring(0, ampersandPosition);
    }
    videoUrl = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1';
  } else if (videoUrl.includes('youtu.be/')) {
    var videoId = videoUrl.split('youtu.be/')[1];
    videoUrl = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1';
  }
  
  iframe.src = videoUrl;
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeVideoPopup() {
  var modal = document.getElementById('videoPopupModal');
  var iframe = document.getElementById('videoPopupFrame');
  
  iframe.src = '';
  modal.style.display = 'none';
  document.body.style.overflow = 'auto';
}

// Close popup with Escape key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeVideoPopup();
  }
});
</script>
