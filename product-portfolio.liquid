
{% schema %}
{
 "name": "Product Portfolio",
 "settings": [
 {
 "type": "color",
 "id": "card_border_color",
 "label": "Card Border Color",
 "default": "#0071b9"
 },
 {
 "type": "color",
 "id": "text_color",
 "label": "Text Color",
 "default": "#333333"
 },
 {
 "type": "color",
 "id": "button_color",
 "label": "Button Color",
 "default": "#0071b9"
 },
 {
 "type": "range",
 "id": "card_border_radius",
 "label": "Card Border Radius",
 "min": 0,
 "max": 30,
 "step": 1,
 "unit": "px",
 "default": 12
 },
 {
 "type": "range",
 "id": "section_padding",
 "label": "Section Padding",
 "min": 20,
 "max": 100,
 "step": 10,
 "unit": "px",
 "default": 60
 }
 ],
 "blocks": [
 {
 "type": "portfolio_card",
 "name": "Portfolio Item",
 "settings": [
 {
 "type": "image_picker",
 "id": "card_image",
 "label": "Card Image"
 },
 {
 "type": "text",
 "id": "card_title",
 "label": "Card Title",
 "default": "Product Title"
 },
 {
 "type": "textarea",
 "id": "card_description",
 "label": "Card Description",
 "default": "Brief description of the product or service"
 },
 {
 "type": "url",
 "id": "card_link",
 "label": "Card Link"
 },
 {
 "type": "text",
 "id": "button_text",
 "label": "Button Text",
 "default": "Know More"
 }
 ]
 }
 ],
 "presets": [
 {
 "name": "Product Portfolio",
 "category": "Custom"
 }
 ]
}
{% endschema %}

<style>
 .portfolio-section {
   background: transparent;
   padding: {{ section.settings.section_padding }}px 20px;
   min-height: 400px;
 }

 .portfolio-container {
   max-width: 1200px;
   margin: 0 auto;
 }

 .portfolio-grid {
   display: grid;
   grid-template-columns: repeat(3, 1fr);
   gap: 30px;
   align-items: stretch;
 }

 .portfolio-card {
   background: #ffffff;
   border: 2px solid {{ section.settings.card_border_color }};
   border-radius: {{ section.settings.card_border_radius }}px;
   overflow: hidden;
   transition: all 0.3s ease;
   display: flex;
   flex-direction: column;
   height: 350px;
   box-shadow: 0 4px 15px rgba(0, 113, 185, 0.1);
   text-decoration: none;
   position: relative;
 }

 .portfolio-card:hover {
   transform: translateY(-5px);
   box-shadow: 0 8px 25px rgba(0, 113, 185, 0.2);
   border-color: #005a94;
 }

 .portfolio-content {
   padding: 25px 20px;
   flex: 1;
   display: flex;
   flex-direction: column;
   justify-content: flex-start;
   text-align: left;
   background: #ffffff;
 }

 .portfolio-title {
   color: {{ section.settings.text_color }};
   font-size: 24px;
   font-weight: 700;
   margin: 0 0 15px 0;
   line-height: 1.3;
   text-align: left;
 }

 .portfolio-description {
   color: #666;
   font-size: 14px;
   line-height: 1.5;
   margin: 0 0 25px 0;
   text-align: left;
   flex-grow: 1;
 }

 .portfolio-button {
   background: transparent;
   color: {{ section.settings.button_color }};
   border: 2px solid {{ section.settings.button_color }};
   padding: 10px 20px;
   border-radius: 6px;
   font-size: 14px;
   font-weight: 600;
   cursor: pointer;
   transition: all 0.3s ease;
   text-decoration: none;
   text-align: center;
   display: inline-block;
   width: fit-content;
   text-transform: none;
 }

 .portfolio-button:hover {
   background: {{ section.settings.button_color }};
   color: white;
   transform: translateY(-1px);
 }

 .portfolio-image-container {
   width: 100%;
   height: 180px;
   overflow: hidden;
   position: relative;
   background: #f8f9fa;
   display: flex;
   align-items: center;
   justify-content: center;
   padding: 20px;
 }

 .portfolio-image {
   width: 100%;
   height: 100%;
   object-fit: contain;
   transition: transform 0.3s ease;
 }

 .portfolio-card:hover .portfolio-image {
   transform: scale(1.05);
 }

 /* Tablet Styles */
 @media screen and (max-width: 1024px) {
   .portfolio-grid {
     grid-template-columns: repeat(2, 1fr);
     gap: 25px;
   }
   
   .portfolio-section {
     padding: 50px 20px;
   }

   .portfolio-card {
     height: 320px;
   }

   .portfolio-content {
     padding: 20px 15px;
   }

   .portfolio-title {
     font-size: 20px;
   }

   .portfolio-image-container {
     height: 160px;
   }
 }

 /* Mobile Styles */
 @media screen and (max-width: 768px) {
   .portfolio-grid {
     grid-template-columns: 1fr;
     gap: 20px;
   }

   .portfolio-section {
     padding: 40px 15px;
   }

   .portfolio-card {
     height: auto;
     min-height: 300px;
   }

   .portfolio-image-container {
     height: 150px;
     padding: 15px;
   }

   .portfolio-content {
     padding: 20px;
     text-align: center;
   }

   .portfolio-title {
     font-size: 18px;
     text-align: center;
   }

   .portfolio-description {
     font-size: 13px;
     margin-bottom: 20px;
     text-align: center;
   }

   .portfolio-button {
     margin: 0 auto;
     text-align: center;
   }
 }

 /* Small Mobile Styles */
 @media screen and (max-width: 480px) {
   .portfolio-section {
     padding: 30px 10px;
   }

   .portfolio-grid {
     gap: 15px;
   }

   .portfolio-image-container {
     height: 130px;
     padding: 10px;
   }

   .portfolio-content {
     padding: 16px;
   }

   .portfolio-title {
     font-size: 16px;
   }

   .portfolio-description {
     font-size: 12px;
   }
 }
</style>

<div class="portfolio-section">
 <div class="portfolio-container">
   <div class="portfolio-grid">
     {% for block in section.blocks %}
       {% if block.type == 'portfolio_card' %}
         <a href="{{ block.settings.card_link }}" class="portfolio-card">
           <div class="portfolio-image-container">
             {% if block.settings.card_image %}
               <img
                 src="{{ block.settings.card_image | img_url: '400x400' }}"
                 alt="{{ block.settings.card_title }}"
                 class="portfolio-image"
                 loading="lazy"
               >
             {% else %}
               <div style="color: #ccc; font-size: 48px;">ðŸ“¦</div>
             {% endif %}
           </div>
           <div class="portfolio-content">
             <h3 class="portfolio-title">{{ block.settings.card_title }}</h3>
             {% if block.settings.card_description %}
               <p class="portfolio-description">{{ block.settings.card_description }}</p>
             {% endif %}
             <div class="portfolio-button">
               {{ block.settings.button_text | default: 'Know More' }}
             </div>
           </div>
         </a>
       {% endif %}
     {% endfor %}
   </div>
 </div>
</div>
