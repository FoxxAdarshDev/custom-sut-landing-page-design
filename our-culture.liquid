
{% schema %}
{
  "name": "Our Culture",
  "class": "our-culture-section",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Our Culture"
    },
    {
      "type": "textarea",
      "id": "section_description",
      "label": "Section Description",
      "default": "The time you waste worrying is the enemy of your success"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color",
      "default": "#0071b9"
    },
    {
      "type": "header",
      "content": "Culture Item 1"
    },
    {
      "type": "checkbox",
      "id": "culture1_enable",
      "label": "Enable Culture Item 1",
      "default": true
    },
    {
      "type": "text",
      "id": "culture1_title",
      "label": "Title",
      "default": "Coaching Services"
    },
    {
      "type": "textarea",
      "id": "culture1_description",
      "label": "Description",
      "default": "Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took."
    },
    {
      "type": "select",
      "id": "culture1_icon_type",
      "label": "Icon Type",
      "default": "svg",
      "options": [
        {
          "value": "svg",
          "label": "SVG Icon"
        },
        {
          "value": "image",
          "label": "Custom Image"
        }
      ]
    },
    {
      "type": "textarea",
      "id": "culture1_svg_code",
      "label": "SVG Code",
      "default": "<svg viewBox='0 0 24 24' fill='currentColor'><path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/></svg>"
    },
    {
      "type": "image_picker",
      "id": "culture1_image",
      "label": "Icon Image"
    },
    {
      "type": "url",
      "id": "culture1_link",
      "label": "Link URL"
    },
    {
      "type": "text",
      "id": "culture1_button_text",
      "label": "Button Text",
      "default": "LEARN MORE"
    },
    {
      "type": "header",
      "content": "Culture Item 2"
    },
    {
      "type": "checkbox",
      "id": "culture2_enable",
      "label": "Enable Culture Item 2",
      "default": true
    },
    {
      "type": "text",
      "id": "culture2_title",
      "label": "Title",
      "default": "Online Courses"
    },
    {
      "type": "textarea",
      "id": "culture2_description",
      "label": "Description",
      "default": "Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took."
    },
    {
      "type": "select",
      "id": "culture2_icon_type",
      "label": "Icon Type",
      "default": "svg",
      "options": [
        {
          "value": "svg",
          "label": "SVG Icon"
        },
        {
          "value": "image",
          "label": "Custom Image"
        }
      ]
    },
    {
      "type": "textarea",
      "id": "culture2_svg_code",
      "label": "SVG Code",
      "default": "<svg viewBox='0 0 24 24' fill='currentColor'><path d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z'/></svg>"
    },
    {
      "type": "image_picker",
      "id": "culture2_image",
      "label": "Icon Image"
    },
    {
      "type": "url",
      "id": "culture2_link",
      "label": "Link URL"
    },
    {
      "type": "text",
      "id": "culture2_button_text",
      "label": "Button Text",
      "default": "LEARN MORE"
    },
    {
      "type": "header",
      "content": "Culture Item 3"
    },
    {
      "type": "checkbox",
      "id": "culture3_enable",
      "label": "Enable Culture Item 3",
      "default": true
    },
    {
      "type": "text",
      "id": "culture3_title",
      "label": "Title",
      "default": "Consultation Services"
    },
    {
      "type": "textarea",
      "id": "culture3_description",
      "label": "Description",
      "default": "Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took."
    },
    {
      "type": "select",
      "id": "culture3_icon_type",
      "label": "Icon Type",
      "default": "svg",
      "options": [
        {
          "value": "svg",
          "label": "SVG Icon"
        },
        {
          "value": "image",
          "label": "Custom Image"
        }
      ]
    },
    {
      "type": "textarea",
      "id": "culture3_svg_code",
      "label": "SVG Code",
      "default": "<svg viewBox='0 0 24 24' fill='currentColor'><path d='M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A3.98 3.98 0 0 0 16.2 6.2c-.8-.8-2.07-.8-2.87 0A3.98 3.98 0 0 0 9.54 8.37L7 16h2.5v6h11z'/></svg>"
    },
    {
      "type": "image_picker",
      "id": "culture3_image",
      "label": "Icon Image"
    },
    {
      "type": "url",
      "id": "culture3_link",
      "label": "Link URL"
    },
    {
      "type": "text",
      "id": "culture3_button_text",
      "label": "Button Text",
      "default": "LEARN MORE"
    }
  ],
  "presets": [
    {
      "name": "Our Culture",
      "category": "About"
    }
  ]
}
{% endschema %}

<!-- Our Culture Section -->
<section class="our-culture-section" data-section-id="{{ section.id }}" style="background-color: {{ section.settings.culture_background_color | default: '#ffffff' }};">
  <div class="culture-container">
    <div class="section-header">
      <h2 class="section-title">{{ section.settings.culture_section_title | default: 'Our Culture' }}</h2>
      {% if section.settings.culture_section_description != blank %}
        <p class="section-description">{{ section.settings.culture_section_description }}</p>
      {% endif %}
      <div class="title-underline" style="background-color: {{ section.settings.culture_accent_color | default: '#0071b9' }};"></div>
    </div>

    <div class="culture-grid">
      {% assign culture_items = '1,2,3' | split: ',' %}
      {% for item_num in culture_items %}
        {% assign enable_key = 'culture' | append: item_num | append: '_enable' %}
        {% assign title_key = 'culture' | append: item_num | append: '_title' %}
        {% assign desc_key = 'culture' | append: item_num | append: '_description' %}
        {% assign icon_type_key = 'culture' | append: item_num | append: '_icon_type' %}
        {% assign svg_key = 'culture' | append: item_num | append: '_svg_code' %}
        {% assign image_key = 'culture' | append: item_num | append: '_image' %}
        {% assign link_key = 'culture' | append: item_num | append: '_link' %}
        {% assign button_key = 'culture' | append: item_num | append: '_button_text' %}

        {% assign is_enabled = section.settings[enable_key] %}
        {% assign item_title = section.settings[title_key] %}
        {% assign item_desc = section.settings[desc_key] %}
        {% assign icon_type = section.settings[icon_type_key] %}
        {% assign svg_code = section.settings[svg_key] %}
        {% assign item_image = section.settings[image_key] %}
        {% assign item_link = section.settings[link_key] %}
        {% assign button_text = section.settings[button_key] %}

        {% if is_enabled and item_title != blank %}
          <div class="culture-card {% if item_num == '2' %}featured-card{% endif %}" data-aos="fade-up" data-aos-delay="{{ forloop.index0 | times: 200 }}">
            <div class="card-icon-wrapper">
              {% if icon_type == 'image' and item_image != blank %}
                <div class="card-icon image-icon">
                  <img src="{{ item_image | img_url: '60x60' }}" alt="{{ item_title }}" loading="lazy">
                </div>
              {% elsif svg_code != blank %}
                <div class="card-icon svg-icon" style="color: {% if item_num == '2' %}#ffffff{% else %}{{ section.settings.culture_accent_color | default: '#0071b9' }}{% endif %};">
                  {{ svg_code }}
                </div>
              {% endif %}
            </div>

            <div class="card-content">
              <h3 class="card-title" style="color: {% if item_num == '2' %}#ffffff{% else %}{{ section.settings.culture_accent_color | default: '#0071b9' }}{% endif %};">
                {{ item_title }}
              </h3>
              <p class="card-description" style="color: {% if item_num == '2' %}rgba(255,255,255,0.9){% else %}#666{% endif %};">
                {{ item_desc }}
              </p>
              {% if item_link != blank and button_text != blank %}
                <a href="{{ item_link }}" class="card-button {% if item_num == '2' %}featured-button{% endif %}" 
                   style="{% if item_num != '2' %}border-color: {{ section.settings.culture_accent_color | default: '#0071b9' }}; color: {{ section.settings.culture_accent_color | default: '#0071b9' }};{% endif %}">
                  {{ button_text }}
                </a>
              {% endif %}
            </div>

            {% if item_num == '2' %}
              <div class="featured-background" style="background: linear-gradient(135deg, {{ section.settings.culture_accent_color | default: '#0071b9' }}, {{ section.settings.culture_accent_color | default: '#0071b9' | color_darken: 20 }});"></div>
            {% endif %}
            
            <div class="card-glow"></div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
/* Our Culture Section */
.our-culture-section {
  padding: 80px 0;
  position: relative;
}

.culture-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Section Header */
.section-header {
  text-align: center;
  margin-bottom: 60px;
}

.section-title {
  font-size: 48px;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.section-description {
  font-size: 24px;
  color: #666;
  margin-bottom: 30px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

.title-underline {
  width: 80px;
  height: 4px;
  margin: 0 auto;
  border-radius: 2px;
}

/* Culture Grid */
.culture-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
  align-items: stretch;
}

/* Culture Cards */
.culture-card {
  background: white;
  border-radius: 20px;
  padding: 40px 30px;
  text-align: center;
  position: relative;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  border: 2px solid #f0f0f0;
}

.culture-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 50px rgba(0, 113, 185, 0.15);
  border-color: var(--accent-color, #0071b9);
}

/* Featured Card (Middle one) */
.featured-card {
  position: relative;
  z-index: 2;
  border: none;
}

.featured-background {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 20px;
}

.featured-card:hover {
  transform: translateY(-15px) scale(1.02);
  box-shadow: 0 25px 60px rgba(0, 113, 185, 0.3);
}

/* Card Icon */
.card-icon-wrapper {
  margin-bottom: 30px;
  display: flex;
  justify-content: center;
}

.card-icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, rgba(0, 113, 185, 0.1), rgba(0, 113, 185, 0.2));
  border-radius: 50%;
  transition: all 0.4s ease;
  position: relative;
}

.featured-card .card-icon {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
}

.card-icon.svg-icon svg {
  width: 40px;
  height: 40px;
  transition: transform 0.3s ease;
}

.card-icon.image-icon img {
  width: 40px;
  height: 40px;
  object-fit: contain;
  transition: transform 0.3s ease;
}

.culture-card:hover .card-icon {
  transform: scale(1.1) rotate(5deg);
}

.culture-card:hover .card-icon svg,
.culture-card:hover .card-icon img {
  transform: scale(1.1);
}

/* Card Content */
.card-content {
  position: relative;
  z-index: 2;
}

.card-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.card-description {
  font-size: 16px;
  line-height: 1.8;
  margin-bottom: 30px;
}

.card-button {
  display: inline-block;
  padding: 12px 30px;
  border: 2px solid;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 600;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.card-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: var(--accent-color, #0071b9);
  transition: left 0.3s ease;
  z-index: -1;
}

.card-button:hover::before {
  left: 0;
}

.card-button:hover {
  color: white !important;
  border-color: var(--accent-color, #0071b9);
}

.featured-button {
  background: rgba(255, 255, 255, 0.2);
  color: white !important;
  border-color: white !important;
  backdrop-filter: blur(10px);
}

.featured-button::before {
  background: white;
}

.featured-button:hover {
  color: var(--accent-color, #0071b9) !important;
  background: white;
}

/* Card Glow Effect */
.card-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(0, 113, 185, 0.1) 0%, transparent 70%);
  transform: translate(-50%, -50%) scale(0);
  transition: transform 0.4s ease;
  border-radius: 20px;
  pointer-events: none;
  z-index: 1;
}

.culture-card:hover .card-glow {
  transform: translate(-50%, -50%) scale(1.2);
}

/* Responsive Design */
@media (max-width: 1024px) {
  .culture-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
  }

  .culture-card {
    padding: 35px 25px;
  }
}

@media (max-width: 768px) {
  .our-culture-section {
    padding: 60px 0;
  }

  .culture-container {
    padding: 0 15px;
  }

  .section-title {
    font-size: 32px;
    letter-spacing: 1px;
  }

  .section-description {
    font-size: 18px;
  }

  .culture-grid {
    grid-template-columns: 1fr;
    gap: 25px;
  }

  .culture-card {
    padding: 30px 20px;
  }

  .card-icon {
    width: 60px;
    height: 60px;
  }

  .card-icon.svg-icon svg,
  .card-icon.image-icon img {
    width: 30px;
    height: 30px;
  }

  .card-title {
    font-size: 20px;
  }

  .card-description {
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  .section-title {
    font-size: 24px;
  }

  .section-description {
    font-size: 16px;
  }

  .culture-card {
    padding: 25px 15px;
  }

  .card-title {
    font-size: 18px;
  }
}

/* Animation on Scroll */
@media (prefers-reduced-motion: no-preference) {
  .culture-card {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
  }

  .culture-card:nth-child(1) { animation-delay: 0.2s; }
  .culture-card:nth-child(2) { animation-delay: 0.4s; }
  .culture-card:nth-child(3) { animation-delay: 0.6s; }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .culture-card,
  .card-icon,
  .card-button {
    animation: none;
    transition: none;
  }
}

.culture-card:focus {
  outline: 3px solid #0071b9;
  outline-offset: 4px;
}
</style>
